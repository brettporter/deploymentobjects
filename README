this branch is before the big refactor to an event-sourced architecture.
